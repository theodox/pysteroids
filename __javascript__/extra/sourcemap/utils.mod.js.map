{
	"version": 3,
	"file": "/Users/stevet/prj/trans/__javascript__/utils.mod.js",
	"sources": [
		"/Users/stevet/prj/trans/utils.py"
	],
	"sourcesContent": [
		"from org import threejs as three\n\ndef pad_wrap(min, max, val):\n    if val < min:\n        return max\n    if val > max:\n        return min\n    return val\n\n\ndef wrap(obj: three.Object3d):\n    WRAP = 30\n    NWRAP = -30\n    x, y, z = obj.position.x, obj.position.y, obj.position.z\n    x = pad_wrap(NWRAP, WRAP, x)\n    y = pad_wrap(NWRAP, WRAP, y)\n    obj.position.set(x, y, z)\n\n\ndef clamp(val, low, high):\n    return max(min(val, high), low)\n\n\ndef sign(val):\n    if val > 0:\n        return 1\n    if val < 0:\n        return -1\n    return 0\n\n\ndef now():\n    return __new__(Date)\n\n\ndef set_element(id, value):\n    document.getElementById(id).innerHTML = value\n\n\nclass AABB:\n    def __init__(self, width, height, center):\n        self.hw = width / 2.0\n        self.hh = width / 2.0\n        self.position = center\n\n    def contains(self, item):\n        x = self.position.x\n        y = self.position.y\n        h = self.hh\n        w = self.hw\n        return item.x > x - w and item.x < x + w and item.y > y - h and item.y < y + h\n\n    def update(self, pos):\n        self.position = pos\n\n\nclass FPSCounter:\n\n    def __init__(self, hud_element):\n        self.frames = [0.1]\n        for n in range(99):\n            self.frames.append(0.1)\n        self.next_frame = 0\n        self.average = 0\n        self.visible = True\n        self.element = hud_element\n\n    def update(self, t):\n        self.frames[self.next_frame] = t\n        self.next_frame +=1\n        if self.next_frame > 99:\n            self.next_frame = 0\n\n        sum = lambda a, b: a + b\n        total = 0\n        for n in range(100):\n            total += self.frames[n]\n\n        self.average = total * 10\n        if self.visible:\n            # @todo: need a string formatting option to print out decimal MS\n            self.element.innerHTML = \"{} fps\".format(int(1000 / self.average))"
	],
	"mappings": "AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA"
}